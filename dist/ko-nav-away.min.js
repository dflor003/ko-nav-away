!function(){var n=[],e=void 0;ko.bindingHandlers.navaway={init:function(r,a,o,i,t){var u=$(r),l=a(),d=ko.observableArray([]),s=ko.computed({read:function(){for(var n=d(),e=0;e<n.length;e++)if(n[e].isDirty())return!0;return!1},deferEvaluation:!0});return ko.isWriteableObservable(l)&&s.subscribe(function(n){l(n)}),n.push(s),ko.applyBindingsToNode(r,{template:{data:i,afterRender:function(){var n=$("input,textarea, select",u);n.filter(function(){return ko.dataFor(this)===i}).each(function(){var n=this,e=ko.contextFor(n),r=ko.bindingProvider.instance.getBindings(n,e),a=r.value||r.textInput||r.checked;if(a&&ko.isObservable(a)&&ko.isWriteableObservable(a)){var o=ko.unwrap(a),i=o instanceof Array,t={originalValue:i?o.slice(0):o,observable:a,isArray:i};t.isDirty=ko.computed({read:function(){var n=t.observable(),e=t.originalValue;if(t.isArray){if(!n^!e)return!0;if(!n&&!e)return!1;if(n.length!==e.length)return!0;for(var r=0;r<n.length;r++)if(n[r]!==e[r])return!0;return!1}return t.observable()!==t.originalValue}}),d.push(t),ko.utils.domNodeDisposal.addDisposeCallback(n,function(){ko.utils.arrayRemoveItem(d,t)})}})}}},t),window.onbeforeunload!==ko.bindingHandlers.navaway.checkOnWindowUnload&&(e=window.onbeforeunload,window.onbeforeunload=ko.bindingHandlers.navaway.checkOnWindowUnload),{controlsDescendantBindings:!0}},checkOnWindowUnload:function(){for(var r=0;r<n.length;r++){var a=n[r]();if(a===!0)return"Are you sure you want to leave the page? You may have unsaved changes."}return"function"==typeof e?e():void 0}}}();